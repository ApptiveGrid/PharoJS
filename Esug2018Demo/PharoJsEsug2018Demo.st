PjFileBasedBrowserApp subclass: #PhysicsSim	instanceVariableNames: 'engine'	classVariableNames: ''	poolDictionaries: ''	category: 'PharoJsEsug2018Demo'!!PhysicsSim methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 8/28/2018 18:45'!matterJsRoot	^ window Matter! !!PhysicsSim methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 8/28/2018 19:41'!addInitialBodies	| boxA boxB ground |	boxA := self matterJsRoot Bodies rectangle: 400 y: 200 width: 80 height: 80.	boxB := self matterJsRoot Bodies rectangle: 450 y: 50 width: 80 height: 80.	ground := self matterJsRoot Bodies rectangle: 400 y: 610 width: 810 height: 60 options: {#isStatic -> true} asJsObject.	self matterJsRoot World add: engine world bodies: { boxA. boxB. ground }! !!PhysicsSim methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 8/28/2018 19:46'!setupAndStartRendering	| render simulationView |	simulationView := self elementAt: #simulationView.	render := self matterJsRoot Render create: 		{#element -> simulationView.		#engine -> engine.		#options -> {#width -> 800.					#height -> 600.					#wireframes -> false.					#background -> 'transparent'}} asJsObject.	self matterJsRoot Render run: render! !!PhysicsSim methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 8/29/2018 17:47'!initialize	super initialize.	self createAndStartEngine.	self setupAndStartRendering.	self addInitialBodies.
	self onClick: #resetButton do: [ 		self matterJsRoot World clear: engine world keepStatic: true]! !!PhysicsSim methodsFor: 'initialize - release' stamp: 'NouryBouraqadi 8/28/2018 18:47'!createAndStartEngine	| runner |	engine := self matterJsRoot Engine create.	runner := self matterJsRoot Runner create.	self matterJsRoot Runner run: runner with: engine! !!PhysicsSim methodsFor: 'accessing' stamp: 'NouryBouraqadi 8/28/2018 18:33'!bodies	^ engine world bodies! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PhysicsSim class	instanceVariableNames: ''!!PhysicsSim class methodsFor: '*PharoJsExporter-App' stamp: 'NouryBouraqadi 11/7/2018 15:12'!appJsSubFolder	<pharoJsSkip>	^#js! !PjWebAppTestCase subclass: #PhysicsSimTest	uses: PjTAppRunsInPharo	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'PharoJsEsug2018Demo'!!PhysicsSimTest methodsFor: 'testing' stamp: 'NouryBouraqadi 8/28/2018 18:23'!testAppInitialSetup	self assert: app bodies size equals: 3! !!PhysicsSimTest methodsFor: 'testing' stamp: 'NouryBouraqadi 8/29/2018 17:24'!testResetDeleteMobileBodiesOnly	self clickElementById: #resetButton.	self assert: app bodies size equals: 1. ! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!PhysicsSimTest class	uses: PjTAppRunsInPharo classTrait	instanceVariableNames: ''!!PhysicsSimTest class methodsFor: 'suite parameters' stamp: 'NouryBouraqadi 8/27/2018 17:22'!appClass	^PhysicsSim! !